{"version":3,"sources":["modules/PlaylistItem.tsx"],"names":[],"mappings":"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","file":"../../modules/PlaylistItem.js","sourcesContent":["import { PlayListItemInterface } from \"../interfaces/PlayListInterface\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nexport function PlayListItem(props: any) {\r\n    // item: PlayListItemInterface;\r\n    // url: string;\r\n    // type: string;\r\n    // index: string | number;\r\n    // constructor(item: PlayListItemInterface, type: string, url: string = \"\", index: number) {\r\n    //     this.item = item;\r\n    //     this.type = type;\r\n    //     this.url = url;\r\n    //     this.index = index;\r\n    // }\r\n    function getImageHref(item: PlayListItemInterface) {\r\n        let href = \"./static/spotify_web/public/images/album.jpg\";\r\n        if (item.image) {\r\n            href = item.image;\r\n        }\r\n        if (item.albumImage) {\r\n            href = item.albumImage;\r\n        }\r\n        return href;\r\n    }\r\n    function getTitleItem(item: PlayListItemInterface, type: string) {\r\n        let title = \"Не известно\";\r\n\r\n        if (item.name) {\r\n            title = item.name;\r\n        }\r\n        if (item.albumName && type !== \"track\") {\r\n            title = item.albumName;\r\n        }\r\n        return title;\r\n    }\r\n    function getDescription(item: PlayListItemInterface) {\r\n        let description = \"\";\r\n        if (item.musicinfo) {\r\n            description += \"Жанры: \" + item.musicinfo.tags.genres.join(\" \") + \".\";\r\n            description += \"\\nИнструменты \" + item.musicinfo.tags.instruments.join(\" \") + \".\";\r\n        }\r\n        if (item.releasedate) {\r\n            description += \"\\nДата релиза \" + item.releasedate + \".\";\r\n        } else {\r\n            if (item.creationdate) {\r\n                description += \"\\nДата релиза \" + item.creationdate + \".\";\r\n            }\r\n        }\r\n        if (item.artistName) {\r\n            description += \"\\nАвтор \" + item.artistName + \".\";\r\n        }\r\n        return description;\r\n    }\r\n    function getParamsByType(props: any) {\r\n        let patams: any = {};\r\n        patams.id = props.item.id;\r\n        patams.isPlaylist = props.type === \"playlist\";\r\n        patams.isArtistlist = props.type === \"artist\";\r\n\r\n        return encodeQueryData(patams);\r\n    }\r\n    function encodeQueryData(data: any) {\r\n        const ret = [];\r\n        for (let d in data)\r\n            ret.push(encodeURIComponent(d) + '=' + encodeURIComponent(data[d]));\r\n        return ret.join('&');\r\n    }\r\n    // getInfPlayer(item: PlayListItemInterface, url: string, index: string | number) {\r\n    //     let inf;\r\n    //     if (item.id) {\r\n    //         inf = { id: item.id };\r\n    //     }\r\n    //     if (url) {\r\n    //         inf = { ...inf, index: index, url: url };\r\n    //     }\r\n    //     inf = { ...inf, index: index, url: url, isAlbum: this.type === \"album\", isArtist: this.type === \"artist\" };\r\n    //     if (this.type === \"playlist\") {\r\n    //         inf = {\r\n    //             ...inf,\r\n    //             isPlaylist: true,\r\n    //         };\r\n    //     }\r\n\r\n    //     return JSON.stringify(inf);\r\n    // }\r\n    const choseSonglist = (item: any) => {\r\n        props.setSong(item)\r\n    }\r\n    // const inf_for_player = this.getInfPlayer(this.item, this.url, this.index);\\\r\n    //  loadArtistSong(artist_id: string) {\r\n    //     const params = new URLSearchParams({\r\n    //         artist_id: artist_id,\r\n    //         mode: \"artist\",\r\n    //     });\r\n    //     document.location.href = \"play?\" + params.toString();\r\n    // }\r\n    // loadPlayList(playListId: string) {\r\n    //     const params = new URLSearchParams({\r\n    //         playListId: playListId,\r\n    //         mode: \"playlist\",\r\n    //     });\r\n    //     document.location.href = \"play?\" + params.toString();\r\n    // }\r\n    // loadAlbumSong(album_id: string) {\r\n    //     const params = new URLSearchParams({\r\n    //         album_id: album_id,\r\n    //         mode: \"album\",\r\n    //     });\r\n    //     document.location.href = \"play?\" + params.toString();\r\n    // }\r\n    return <div className=\"album-container__song-container\">\r\n        <div className={props.type === \"track\" ? \" album_column\" : \"album\"} >\r\n            <div className={props.type === \"track\" ? \" album_column__image-container\" : \"album__image\"}>\r\n                <img src={getImageHref(props.item)} alt=\"icon\" className=\"album__image\" />\r\n                {/* {data - info - music={inf_for_player} } */}\r\n                {\r\n                    props.type === \"track\" ? <ButtonPlay type={props.type} item={props.item} choseSonglist={choseSonglist} /> :\r\n                        <Link to={\"/play?\" + getParamsByType(props)}>\r\n                            <ButtonPlay type={props.type} choseSonglist={choseSonglist} />\r\n                        </Link>\r\n                }\r\n            </div>\r\n            <h5 className=\"album__title\">{getTitleItem(props.item, props.type)}</h5>\r\n            <p className=\"album__description\">{getDescription(props.item)}</p>\r\n        </div>\r\n    </div>\r\n}\r\nfunction ButtonPlay(props: any) {\r\n    return <button className={props.type === \"track\" ? \" play-btn\" : \"play-btn play-btn_album\"} onClick={() => { props.choseSonglist(props.item) }}>\r\n        <svg\r\n            className=\"play-btn__image play-btn__image_album\"\r\n            role=\"img\"\r\n            height=\"16\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            viewBox=\"0 0 16 16\"\r\n\r\n            data-info-music='${inf_for_player}'\r\n        >\r\n            <path\r\n                data-info-music='${inf_for_player}'\r\n                d=\"M3 1.713a.7.7 0 011.05-.607l10.89 6.288a.7.7 0 010 1.212L4.05 14.894A.7.7 0 013 14.288V1.713z\"\r\n            ></path>\r\n        </svg>\r\n    </button>\r\n}"]}
{"version":3,"sources":["App.ts"],"names":[],"mappings":"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","file":"../App.js","sourcesContent":["import { postJSON, getParams, getJSON } from \"./lib/query\";\r\nimport { PlayList } from \"./modules/PlayList\";\r\nimport { AudioPlayer } from \"./modules/AudioPlayer\";\r\nimport { Api } from \"./modules/Api\";\r\nimport { settings } from \"./settings\";\r\n\r\nlet tokenInfo: any = {};\r\n\r\nasync function getCurentUserInfo(accessToken: string) {\r\n    return new Promise((resolve, reject) => {\r\n        const url =\r\n            \"https://api.jamendo.com/v3.0/users/?client_id=cf25482b&format=jsonpretty&accessToken=\" + accessToken;\r\n        getJSON(url).then((data: any) => {\r\n            if (data.headers.status === \"success\") {\r\n                resolve({ result: true, user: data.results[0] });\r\n            } else {\r\n                resolve({ result: false, message: data });\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction getDataFromApi(url: string) {\r\n    return new Promise((resolve, reject) => {\r\n        getJSON(url).then((data: any) => {\r\n            if (data.headers.status === \"success\") {\r\n                resolve({ result: true, data: data.results });\r\n            } else {\r\n                resolve({ result: false, message: data });\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\nfunction getTemplateForUserInfo(userInfo: any) {\r\n    return `\r\n        <div class=\"user-info\">\r\n            <img src=\"${userInfo.image}\"alt=\"image_profile\">\r\n            <span>${userInfo.dispname}</span>\r\n        </div>\r\n    `;\r\n}\r\nclass MainPage {\r\n    userInfoDom: any;\r\n    albumsContent: any;\r\n    api: any;\r\n    player: any;\r\n    registrationLink: any;\r\n    settings: any;\r\n    playsBtn: any;\r\n    constructor(conf: any) {\r\n        this.userInfoDom = conf.userInfoDom;\r\n        this.albumsContent = conf.albumsContent;\r\n        this.registrationLink = conf.registrationLink;\r\n        this.api = conf.api;\r\n        this.player = conf.player;\r\n        this.settings = conf.settings;\r\n        this.playsBtn = conf.playsBtn;\r\n    }\r\n    playMusic = (ev: any) => {\r\n        ev.preventDefault();\r\n\r\n        const songData = JSON.parse(ev.target.getAttribute(\"data-info-music\"));\r\n        this.player.play(songData);\r\n    };\r\n    async init() {\r\n        // вход\r\n\r\n        this.registrationLink.setAttribute(\r\n            \"href\",\r\n            `https://api.jamendo.com/v3.0/oauth/authorize?client_id=${this.settings.clientId}&redirect_uri=http://localhost:4567/&response_type=code`\r\n        );\r\n        if (this.albumsContent) {\r\n            // fuzzytags - выбор по тегам\r\n            let url, playlist;\r\n\r\n            // новинки\r\n            url = `https://api.jamendo.com/v3.0/playlists/?client_id=${this.settings.clientId}&format=jsonpretty&limit=12&datebetween=2022-01-02_2022-04-01&hasimage=1`;\r\n            const albums: any = await getDataFromApi(url);\r\n\r\n            playlist = new PlayList({ list: albums.data, title: \"Плейлисты\", type: \"playlist\", url: url });\r\n            this.albumsContent.insertAdjacentHTML(\"beforeend\", playlist.render());\r\n\r\n            /// afhnbcns\r\n            const urlArtist = `https://api.jamendo.com/v3.0/artists/?client_id=${this.settings.clientId}&format=jsonpretty&limit=12&imagesize=100`;\r\n            const albumsArtist: any = await getDataFromApi(urlArtist);\r\n\r\n            playlist = new PlayList({\r\n                list: albumsArtist.data,\r\n                title: \"Исполнители\",\r\n                type: \"artist\",\r\n                url: urlArtist,\r\n            });\r\n            this.albumsContent.insertAdjacentHTML(\"beforeend\", playlist.render());\r\n            // по жанрам\r\n\r\n            // артисты\r\n            const urlTop = `https://api.jamendo.com/v3.0/tracks/?client_id=${this.settings.clientId}&format=jsonpretty&limit=12&include=musicinfo&boost=listens_week&imagesize=100`;\r\n            const trackTop: any = await getDataFromApi(urlTop);\r\n\r\n            playlist = new PlayList({ list: trackTop.data, title: \"Новинки недели\", type: \"track\", url: urlTop });\r\n            this.albumsContent.insertAdjacentHTML(\"beforeend\", playlist.render());\r\n\r\n            const urlJenre = `https://api.jamendo.com/v3.0/playlists/?client_id=${this.settings.clientId}&format=jsonpretty&limit=12`;\r\n            const albumsJenre: any = await getDataFromApi(urlJenre);\r\n            playlist = new PlayList({ list: albumsJenre.data, title: \"Жанры\", type: \"playlist\", url: urlJenre });\r\n            this.albumsContent.insertAdjacentHTML(\"beforeend\", playlist.render());\r\n        }\r\n\r\n        const playsBtn: any = document.getElementsByClassName(\"play-btn\");\r\n        if (playsBtn) {\r\n            for (var i = 0; i < playsBtn.length; i++) {\r\n                playsBtn[i].addEventListener(\"click\", this.playMusic);\r\n            }\r\n        }\r\n    }\r\n    start() {\r\n        this.init();\r\n    }\r\n}\r\nconst urlParams = getParams(window.location);\r\n\r\nconst playsBtn: any = document.getElementsByClassName(\"play-btn\");\r\nconst userInfoDom = document.getElementById(\"user-info\");\r\nconst albumsContent = document.getElementById(\"albums-content\");\r\nconst audioPlayer = document.getElementById(\"audio-player\");\r\nconst songInfoPlayer = document.getElementById(\"song-info-player\");\r\n\r\nconst playPause = document.getElementById(\"play-pause\");\r\nconst playBack = document.getElementById(\"play-back\");\r\nconst playForward = document.getElementById(\"play-forward\");\r\nconst playProgress = document.getElementById(\"play-progress\");\r\nconst playSoundMute = document.getElementById(\"play-sound-mute\");\r\nconst playVolume = document.getElementById(\"play-volume\");\r\nconst timeStart = document.getElementById(\"play-time-start\");\r\nconst timeEnd = document.getElementById(\"play-time-end\");\r\nconst playSvgPath = document.getElementById(\"playSvgPath\");\r\nconst registrationLink: any = document.getElementById(\"registrationLink\");\r\n\r\nif (urlParams.code && !tokenInfo.accessToken && !localStorage.getItem(\"accessToken\")) {\r\n    postJSON(\"/\", {\r\n        code: urlParams.code,\r\n    }).then(async (answer: any) => {\r\n        tokenInfo = JSON.parse(answer.accessToken);\r\n        console.log(\"tokenInfo\", tokenInfo);\r\n        if (tokenInfo.error) {\r\n            alert(\"ERROR =>\" + tokenInfo.error_description);\r\n        } else {\r\n            registrationLink.style.display = \"none\";\r\n            localStorage.setItem(\"accessToken\", tokenInfo.accessToken);\r\n            localStorage.setItem(\"timeSetAccessToken\", new Date().getTime().toString());\r\n            const userInfo: any = await getCurentUserInfo(tokenInfo.accessToken);\r\n\r\n            if (userInfoDom && userInfo.result) {\r\n                localStorage.setItem(\"id_user\", userInfo.user.id);\r\n                const userInfoContent = getTemplateForUserInfo(userInfo.user);\r\n                userInfoDom.insertAdjacentHTML(\"beforeend\", userInfoContent);\r\n            }\r\n        }\r\n    });\r\n} else {\r\n    if (localStorage.getItem(\"accessToken\")) {\r\n        const timeSetAccessToken = Number(localStorage.getItem(\"timeSetAccessToken\"));\r\n        const dateSetToken: any = new Date(timeSetAccessToken);\r\n        const curentDate: any = new Date();\r\n        if (curentDate - dateSetToken > 5000000) {\r\n            localStorage.removeItem(\"timeSetAccessToken\");\r\n            localStorage.removeItem(\"accessToken\");\r\n        } else {\r\n            tokenInfo = { accessToken: localStorage.getItem(\"accessToken\") };\r\n            getCurentUserInfo(tokenInfo.accessToken).then((userInfo: any) => {\r\n                localStorage.setItem(\"id_user\", userInfo.user.id);\r\n                registrationLink.style.display = \"none\";\r\n                if (userInfoDom) {\r\n                    const userInfoContent = getTemplateForUserInfo(userInfo.user);\r\n                    userInfoDom.insertAdjacentHTML(\"beforeend\", userInfoContent);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nconst Api_object = new Api();\r\nconst player = new AudioPlayer({\r\n    audioPlayer: audioPlayer,\r\n    api: Api_object,\r\n    settings: settings,\r\n    songInfoPlayer: songInfoPlayer,\r\n    playPause: playPause,\r\n    playBack: playBack,\r\n    playForward: playForward,\r\n    playProgress: playProgress,\r\n    playVolume: playVolume,\r\n    playSoundMute: playSoundMute,\r\n    timeStart: timeStart,\r\n    timeEnd: timeEnd,\r\n    playSvgPath: playSvgPath,\r\n});\r\nconst main = new MainPage({\r\n    userInfoDom: userInfoDom,\r\n    albumsContent: albumsContent,\r\n    api: Api_object,\r\n    player: player,\r\n    settings: settings,\r\n    songInfoPlayer: songInfoPlayer,\r\n    registrationLink: registrationLink,\r\n    playsBtn: playsBtn,\r\n});\r\nmain.start();\r\n"]}